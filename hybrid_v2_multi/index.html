<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Hybrid-Karte â€“ Nah/Fern-Wort</title>
  <link rel="stylesheet" href="style.css">
  <!-- jsPDF fÃ¼r PDF-Export -->
  <script src="jspdf.umd.min.js"></script>
  <!-- QR-Code-Bibliothek -->
  <script src="qrcode.min.js"></script>
  <!-- Ãœbersetzungen -->
  <script src="i18n.js"></script>
</head>
<body>
  <div id="controls">
    <div id="headerRow">
      <h1 data-i18n="app.title">Hybrid-Karte</h1>
      <div id="languageSwitch">
        <label for="langSelect" data-i18n="lang.label">Sprache:</label>
        <select id="langSelect">
          <option value="de">ðŸ‡©ðŸ‡ª Deutsch</option>
          <option value="en">ðŸ‡¬ðŸ‡§ English</option>
          <option value="fr">ðŸ‡«ðŸ‡· FranÃ§ais</option>
        </select>
      </div>
    </div>

    <small data-i18n-html="intro.text">
      1. Fern-Wort eingeben â€“ Nah-Wort wird automatisch â€žverfremdetâ€œ.<br>
      2. Regler einstellen und Vorschau prÃ¼fen.<br>
      3. Mit den Export-Buttons druckfertige Dateien erzeugen.
    </small>

    <label id="labelFar" for="farText" data-i18n="label.far">Fern-Wort (Publikum)</label>
    <input type="text" id="farText" value="Zauberstab" />

    <label id="labelNear" for="nearText" data-i18n="label.near">Nah-Wort (Zuschauer nah)</label>
    <input type="text" id="nearText" />
    <div style="margin-top:4px;font-size:11px;display:flex;align-items:center;gap:6px;">
      <input type="checkbox" id="autoNear" checked />
      <span id="autoNearText" data-i18n="auto.text">Nah-Wort automatisch aus Fern-Wort erzeugen</span>
    </div>

    <span class="section-title" data-i18n="section.fine">Feineinstellung</span>

    <label>
      <span data-i18n="label.fontSize">SchriftgrÃ¶ÃŸe</span>
      <span class="tooltip" id="tooltipFontSize" data-i18n-tip="tooltip.fontSize">â“˜</span>
    </label>
    <div class="slider-row">
      <input type="range" id="fontSize" min="120" max="340" value="230" />
      <span class="value" id="fontSizeVal">230</span>
    </div>
    <div class="row">
      <span data-i18n="scale.small">Klein</span><span data-i18n="scale.large">GroÃŸ</span>
    </div>

    <label>
      <span data-i18n="label.farBlur">UnschÃ¤rfe Fern-Wort</span>
      <span class="tooltip" id="tooltipFarBlur" data-i18n-tip="tooltip.farBlur">â“˜</span>
    </label>
    <div class="slider-row">
      <input type="range" id="farBlur" min="2" max="20" value="15" />
      <span class="value" id="farBlurVal">15</span>
    </div>
    <div class="row">
      <span data-i18n="scale.low">wenig</span><span data-i18n="scale.high">stark</span>
    </div>

    <label>
      <span data-i18n="label.farHalo">Fern-Halo (GlÃ¼heffekt)</span>
      <span class="tooltip" id="tooltipFarHalo" data-i18n-tip="tooltip.farHalo">â“˜</span>
    </label>
    <div class="slider-row">
      <input type="range" id="farHalo" min="0" max="100" value="60" />
      <span class="value" id="farHaloVal">60</span>
    </div>
    <div class="row">
      <span data-i18n="scale.low">wenig</span><span data-i18n="scale.high">stark</span>
    </div>

    <label>
      <span data-i18n="label.nearStrength">StÃ¤rke Nah-Kanten</span>
      <span class="tooltip" id="tooltipNearStrength" data-i18n-tip="tooltip.nearStrength">â“˜</span>
    </label>
    <div class="slider-row">
      <input type="range" id="nearStrength" min="10" max="80" value="40" />
      <span class="value" id="nearStrengthVal">40</span>
    </div>
    <div class="row">
      <span data-i18n="scale.soft">zart</span><span data-i18n="scale.strong">krÃ¤ftig</span>
    </div>

    <label>
      <span data-i18n="label.nearOpacity">Deckkraft Nah-Wort</span>
      <span class="tooltip" id="tooltipNearOpacity" data-i18n-tip="tooltip.nearOpacity">â“˜</span>
    </label>
    <div class="slider-row">
      <input type="range" id="nearOpacity" min="5" max="70" value="60" />
      <span class="value" id="nearOpacityVal">60</span>
    </div>
    <div class="row">
      <span data-i18n="scale.almostInvisible">fast unsichtbar</span><span data-i18n="scale.visible">deutlich</span>
    </div>

    <label>
      <span data-i18n="label.nearFill">Nah-FÃ¼llung (Innen)</span>
      <span class="tooltip" id="tooltipNearFill" data-i18n-tip="tooltip.nearFill">â“˜</span>
    </label>
    <div class="slider-row">
      <input type="range" id="nearFill" min="0" max="100" value="40" />
      <span class="value" id="nearFillVal">40</span>
    </div>
    <div class="row">
      <span data-i18n="scale.low">wenig</span><span data-i18n="scale.high">stark</span>
    </div>

    <span class="section-title" data-i18n="section.background">Hintergrund</span>
    <label for="bgSelect" data-i18n="label.background">Motiv auswÃ¤hlen</label>
    <select id="bgSelect">
      <option value="background_print.jpg">Hintergrund 1</option>
      <option value="background2.jpg">Hintergrund 2</option>
      <option value="background3.jpg">Hintergrund 3</option>
      <option value="background4.jpg">Hintergrund 4</option>
      <option value="background5.jpg">Hintergrund 5</option>
      <option value="background6.jpg">Hintergrund 6</option>
    </select>

    <button id="renderBtn" data-i18n="btn.render">Erzeugen</button>

    <span class="section-title" data-i18n="section.export">Export</span>
    <button id="saveBtn" data-i18n="btn.save.png">Einzelkarte (PNG)</button>
    <button id="saveA4Btn" data-i18n="btn.save.a4png">DIN A4 â€“ 2Ã— A5 (PNG)</button>
    <button id="savePdfBtn" data-i18n="btn.save.pdf">DIN A4 â€“ PDF (2Ã—A5 Vorder/RÃ¼ck)</button>
    <button id="saveTestQrPdfBtn" data-i18n="btn.save.testqr">Testkarte mit QR (PDF)</button>
    <small data-i18n-html="export.help">
      â€¢ <b>Einzelkarte (PNG)</b>: eine A5-Vorderseite.<br>
      â€¢ <b>DIN A4 â€“ 2Ã— A5 (PNG)</b>: zwei gleiche Vorderseiten untereinander.<br>
      â€¢ <b>DIN A4 â€“ PDF</b>: Seite 1 oben Hybridkarte, unten gleiche Karte mit Nah=Fern, Seite 2 zwei RÃ¼ckseiten.<br>
      â€¢ <b>Testkarte mit QR (PDF)</b>: Testkarte mit QR-Code, der dieses Preset wieder in der Web-App lÃ¤dt.
    </small>

    <span class="section-title" data-i18n="section.presets">Preset Import/Export</span>
    <textarea id="presetText" rows="5"
      data-i18n-placeholder="preset.placeholder"
      placeholder='Hier erscheinen deine Einstellungen als JSON, z.B. {"fontSize":230,...}'></textarea>
    <button id="exportPresetBtn" data-i18n="btn.preset.export">Einstellungen exportieren</button>
    <button id="importPresetBtn" data-i18n="btn.preset.import">Einstellungen importieren</button>
    <button id="sharePresetBtn" data-i18n="btn.preset.share">Teilen (Link kopieren)</button>

    <span class="section-title" data-i18n="section.support">UnterstÃ¼tzen</span>
    <button id="donateBtn" data-i18n="btn.donate">Per PayPal spenden</button>
    <small data-i18n="support.text">
      Wenn dir der Hybrid-Karten-Generator hilft, freue ich mich Ã¼ber einen Kaffee ðŸ˜Š
    </small>

    <span class="section-title" data-i18n="section.info">Info & Anleitung</span>
    <div class="info-box">
      <p data-i18n-html="info.text">
        Hybrid-Karten Generator von <b>Tim Holzhausen</b>.<br>
        Entwickelt zur praktischen Umsetzung des â€ž100th Monkeyâ€œ-Prinzips
        fÃ¼r BÃ¼hne, Salon und Wohnzimmer.
      </p>
<p>
  <a
    href="Hybridkarten_Anleitung_de.pdf"
    target="_blank"
    rel="noopener"
    data-i18n="info.link"
    id="manualLink"
  >
    ðŸ“„ PDF-Anleitung Ã¶ffnen
  </a>
</p>

      <p style="margin-top:4px;" data-i18n="info.feedback">
        Fragen oder Feedback? â€“ Am besten zusammen mit ein paar Beispielen aus der Praxis schicken.
      </p>
    </div>

    <div id="appVersion">
      <span data-i18n="version.text">Version 2.0.0 Â· Multilingual</span>
    </div>
  </div>

  <div id="canvasWrapper">
    <div id="mainPreviewLabel" data-i18n="previewMain.label">
      Nah-Vorschau â€“ Sicht des Zuschauers auf der BÃ¼hne
    </div><BR>

    <canvas id="cardCanvas" width="2480" height="1748"></canvas>

    <div id="belowPreview">
      <div id="belowLeft">
        <span class="section-title" data-i18n="section.previewFar">Fern-Vorschau</span>
        <div id="previewContainer">
          <div class="preview-block">
            <canvas id="previewFar" width="420" height="296"></canvas>
            <div data-i18n="previewFar.caption">Publikums-Sicht (verkleinert)</div>
          </div>
        </div>
      </div>

      <div id="belowRight">
        <span class="section-title" data-i18n="section.hint">Hinweis</span>
        <div id="contextTip" class="helpbox">
          Stelle die Regler ein â€“ hier erscheinen passende Tipps zu Wirkung,
          Einsatz, Publikum und Druck.
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
